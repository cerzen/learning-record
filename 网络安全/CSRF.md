# CSRF
---

CSRF中文名为跨站请求伪造。原理就是攻击者伪造出一个后端请求地址，诱导用户点击或者通过某些途径自动发起请求。如果用户是在登录状态下的话，后端就以为
是用户在操作，从而进行相应的逻辑。

举个例子，假设网站中有一个通过GET请求提交用户评论的接口，那么攻击者就可以在钓鱼网站中加入一个图片，图片的地址就是评论接口 
`<img src="xxxx.com"/>`
 
 那么你是否会想到使用POST方式提交是不是就没有这个问题了呢？其实并不是，使用这种方式也不是百分百安全的，攻击者同样可以诱导用户进入某个页面，在页面
 中通过表单提交POST请求。
 
 ## 如何防御
 ---
 
 防范CSRF攻击可以遵循以下几种规则：
 
 1.Get请求不对数据进行修改
 
 2.不让第三方网站访问到用户Cookie
 
 3.阻止第三方网站请求接口
 
 4.请求时附带验证信息，比如验证码或者Token
 
 ## SameSite
 ---
 
 可以对Cookie设置SameSite属性。该属性表示Cookie不随着跨域请求发送，可以很大程度减少CSRF攻击，但是该属性目前并不是所有浏览器都兼容。
 
 ## 验证Referer
 ---
 
 对于需要防范CSRF的请求，我们可以通过验证Referer来判断该请求是否为第三方网站发起的。
 
 ## Token
 ---
 
 服务器下发一个随机Token，每次发起请求时将Token携带上，服务器验证Token是否有效。
 
 
